---
title: 'What is this site built on?'
description: 'The technologies this site was built on including NextJs, React, Brevifolia'
author: Robert Smith
date: '2020-08-18T07:00:00.000Z'
blog_image: 
next_button_path: /thissite/what
---

## Required Features
The following features were requirements of the tool:

- Allows the user to focus on creating content 
- Minimal coding. More opinionated and configuration based
- User friendly slugs (e.g. https://www.411tech.info/thissite/what instead of https://www.411tech.info/thissite/what.html")
- Server side rendering for SEO



## Site Foundation
This site is built on:
- Brevifolia
- NextJS
- React


## Base Brevifolia

To focus on capturing notes quickly and easily, the starting base of Brevifolia by Kendall Strautman was used, which provided a nice start.

- Site-level configuration is stored in `data/config.json`.
- Global styles live in the `Meta` component.
- `posts/` contains all your markdown blog posts.
- Blog pages are dynamically generated with a `slug` parameter. 
- Pages & template are comprised of components from `components`.
- Routes are generated at the page level, with the dynamic blog routes being generated by `getStaticPaths` in `pages/blog/[slug].js`

[Kendall Strautman's Brevifolia](https://github.com/kendallstrautman/brevifolia-nextjs)

## Additions to the Base
The changes to the base were:

- Creation of a side menu that is based on a JSON configuration file (constants/SideMenu)
- Allow creation of posts in multiple subdirectories through the use of catch all routes
- Images pulled from the same subdirectory structure as the posts
- Index page utilizes the same layout as all the other content and the indexPage is defined in the Constants file
- Conversion of images to WebP to reduce page load times
- Puts the page title and description in the meta tags for SEO
[lighthouse - meta tag](https://web.dev/meta-description/?utm_source=lighthouse&utm_medium=devtools)
- Tool for converting images to WebP to enhance performance
 

## NextJS
Brevifolia and this application are based on NextJs, which provides server side rendering and theability to host a React site as a static website, which was a primary requirement. 


[Next.js](https://nextjs.org/)


## NextJS - Catch-All routes
This application teakes advantage of the NextJs feature of dynamic routes, especially "catch-all" routes. This what gives the application the ability to dynamically create route paths based on the content.

The code for this is in the file /pages/[...slug].js

[Dynamic routing / Catch-all Routes](https://nextjs.org/learn/basics/dynamic-routes/dynamic-routes-details)

## Gray Matter
This application uses gray matter to pull the meta-information from the head of the file. For example, it pulls from the file ** How.md **

![Gray-Matter](how-gray-matter.webp)

provides to the application the JSON object:

```json
  {
    data: {
      title: 'How to use this code'
      author: Robert Smith
      date: '2020-08-18T07:00:00.000Z'
      blog_image:
    },
    content: 'This page shows you how to use this code to create your own blog.'
  }
```

which is used in the layout component
![Layout Header](Layout-headerData.webp)

[Gray Matter - NPM](https://www.npmjs.com/package/gray-matter)

[Gray Matter - Git Source](https://github.com/jonschlinkert/gray-matter)
  

## React Markdown
React Markdown is used to pull in markdown files and render them as HTML.



[React Markdown - NPM](https://www.npmjs.com/package/react-markdown)

[React Markdown - Demo](https://rexxars.github.io/react-markdown/)

[React Markdown - Git](https://github.com/rexxars/react-markdown#readme)

**Note**
This application assumes the source of the files is known and safe. Because of this it allows HTML tages to be rendered. If this is not the case, then in the layout component, set *escapeHtml={false}*
```HTML
<ReactMarkdown
  source={markdown}
  escapeHtml={false}
/>
```


